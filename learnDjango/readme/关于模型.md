django规定要想使用model，必须创建app，使用命令`python manage.py startapp haha`  
在settings中添加Installed_Apps  
创建模型之后：
```
python manage.py make migrations 检测做出了哪些改变
python manage.py migrate 更改数据库
```

清空一切数据，只留下空表：`python manage.py flush`  
add data:
```python
test1 = Test(name='w3cschool.cc')
test1.save()

创建对象：
1. Person.objects.create(name=...,age=...)
2. Person(name=,age=).save()
3. p=Person(name=..,age=)
   p.age=234
   p.save()
4. Person.objects.get_or_create(name=,age=)

```

get data:

    # 通过objects这个模型管理器的all()获得所有数据行，相当于SQL中的SELECT * FROM
    list = Test.objects.all()

    # filter相当于SQL中的WHERE，可设置条件过滤结果
    response2 = Test.objects.filter(id=1)

    # 获取单个对象
    response3 = Test.objects.get(id=1)

    # 限制返回的数据 相当于 SQL 中的 OFFSET 0 LIMIT 2;
    Test.objects.order_by('name')[0:2]

    #数据排序
    Test.objects.order_by("id")

    # 上面的方法可以连锁使用
    Test.objects.filter(name="w3cschool.cc").order_by("id")
    
    Person.objects.all()
    Person.objects.all()[:10]
    Person.objects.get(name=...)

update data:

    test1 = Test.objects.get(id=1)
	test1.name = 'w3cschool菜鸟教程'
	test1.save()

	# 另外一种方式
	#Test.objects.filter(id=1).update(name='w3cschool菜鸟教程')

	# 修改所有的列
	# Test.objects.all().update(name='w3cschool菜鸟教程')

delete data:

	test1 = Test.objects.get(id=1)
	test1.delete()

	# 另外一种方式
	# Test.objects.filter(id=1).delete()

	# 删除所有数据
	# Test.objects.all().delete()


查询进阶之filter和exclude

    filter(name="")
    filter(name.__contains="abc")
    filter(name.__icontains="abc")不区分大小写
    filter(name.__iexact="abc")不区分大小写，但要求完全匹配
    
    filter(name.regex=..)正则查询
    filter(name.iregex=..)忽略大小写正则查询
    
    filter要哪些
    exclude不要哪些
    
    排序：对查询结果集
    order_by(字段名)  递增序
    order_by(-字段名) 递减序
    
    查询结果类型为QuerySet，它不支持负索引
    Person.objects.all()[:-2]报错，正2不报错
    有两种方法实现这个目的
    方案一：Person.objects.all().reverse[:2]
    方案二：Person.objects.all.order_by("-id")[:2]
    
    合并与去重
    q1,q2,q3是三个QuerySet类型的对象
    q=q1|q2|q3
    q.distinct()
    
    
django关于model的其它内容：
* 自定义聚合函数
* 自定义Model的Field